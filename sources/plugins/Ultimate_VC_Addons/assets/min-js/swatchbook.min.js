!function(a,b,c){"use strict";var d=b.bsfmodernizr;jQuery.fn.reverse=[].reverse,a.SwatchBook=function(b,c){this.$el=a(c),this._init(b)},a.SwatchBook.defaults={center:6,angleInc:8,speed:700,easing:"ease",proximity:45,neighbor:4,onLoadAnim:!0,initclosed:!1,closeIdx:-1,openAt:-1},a.SwatchBook.prototype={_init:function(b){this.options=a.extend(!0,{},a.SwatchBook.defaults,b),this.$items=this.$el.children("div"),this.itemsCount=this.$items.length,this.current=-1,this.support=d.csstransitions,this.cache=[],this.options.onLoadAnim&&this._setTransition(),this.options.initclosed?(this.isClosed=!0,this.options.onLoadAnim||this._setTransition()):this._center(this.options.center,this.options.onLoadAnim),this.options.openAt>=0&&this.options.openAt<this.itemsCount&&this._openItem(this.$items.eq(this.options.openAt)),this._initEvents()},_setTransition:function(){this.support&&this.$items.css({transition:"all "+this.options.speed+"ms "+this.options.easing})},_openclose:function(){this.isClosed?this._center(this.options.center,!0):this.$items.css({transform:"rotate(0deg)"}),this.isClosed=!this.isClosed},_center:function(b,c){var d=this;this.$items.each(function(c){var e="rotate("+d.options.angleInc*(c-b)+"deg)";a(this).css({transform:e})})},_openItem:function(a){var b=a.index();b!==this.current&&(this.options.closeIdx!==-1&&b===this.options.closeIdx?(this._openclose(),this._setCurrent()):(this._setCurrent(a),a.css({transform:"rotate(0deg)"}),this._rotateSiblings(a)))},_initEvents:function(){var b=this;this.$items.on("click.swatchbook",function(c){b._openItem(a(this))})},_rotateSiblings:function(b){var c,d=this,e=b.index(),f=this.cache[e];f?c=f:(c=b.siblings(),this.cache[e]=c),c.each(function(b){var c=b<e?d.options.angleInc*(b-e):b-e===1?d.options.proximity:d.options.proximity+(b-e-1)*d.options.neighbor,f="rotate("+c+"deg)";a(this).css({transform:f})})},_setCurrent:function(a){this.current=a?a.index():-1,this.$items.removeClass("ff-active"),a&&a.addClass("ff-active")}};var e=function(a){b.console&&b.console.error(a)};a.fn.swatchbook=function(b){var c=a.data(this,"swatchbook");if("string"==typeof b){var d=Array.prototype.slice.call(arguments,1);this.each(function(){return c?a.isFunction(c[b])&&"_"!==b.charAt(0)?void c[b].apply(c,d):void e("no such method '"+b+"' for swatchbook instance"):void e("cannot call methods on swatchbook prior to initialization; attempted to call method '"+b+"'")})}else this.each(function(){c?c._init():c=a.data(this,"swatchbook",new a.SwatchBook(b,this))});return c}}(jQuery,window);